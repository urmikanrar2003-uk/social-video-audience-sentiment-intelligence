schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 3a0b1ab50a7980c232781147048b0fe4
      size: 4601
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: 379bbae3a4bc0eec880d59192be48251.dir
      size: 746010
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 220d4d472a9f9f5076dcbb895b4bc7e9
      size: 155126
    - path: data/raw/train.csv
      hash: md5
      md5: effc73d48fb0ba814909c0cdf96b2a4d
      size: 590884
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: d0b82627d34c47a904b16aef2bc6b585
      size: 3931
    outs:
    - path: data/interim
      hash: md5
      md5: 19596de108e4aa12bdd259a9a8db6684.dir
      size: 519189
      nfiles: 2
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: fcafe101f0c01e517d2b4d9cc643a0bf
      size: 410602
    - path: params.yaml
      hash: md5
      md5: 9150b8eafea2e3f8d4d23120093101d3
      size: 496
    - path: src/model/model_building.py
      hash: md5
      md5: 321830a52b14eec26f526383a48a3e7e
      size: 6473
    params:
      params.yaml:
        stacking.base_models.catboost.depth: 8
        stacking.base_models.catboost.iterations: 587
        stacking.base_models.catboost.learning_rate: 0.27035817720878363
        stacking.base_models.gradient_boosting.learning_rate: 
          0.13066502758540927
        stacking.base_models.gradient_boosting.max_depth: 3
        stacking.base_models.gradient_boosting.n_estimators: 468
        stacking.base_models.logistic.C: 2.9007777401612693
        stacking.base_models.naive_bayes.alpha: 0.0030594497271337812
        stacking.cv: 5
        stacking.final_estimator.C: 2.9007777401612693
        vectorizer.max_features: 1000
        vectorizer.ngram_range:
        - 1
        - 3
    outs:
    - path: stacking_model.pkl
      hash: md5
      md5: f42fee23806728083fd7a4c23b12a01a
      size: 6640728
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 3210a27227a6043230203e68da92fa08
      size: 36954
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 4652018689864310a5a12e6d6e2cb3d3
      size: 108587
    - path: params.yaml
      hash: md5
      md5: 9150b8eafea2e3f8d4d23120093101d3
      size: 496
    - path: src/model/model_evaluation.py
      hash: md5
      md5: f9e3027575072e770dc8da04ee66f5b9
      size: 7397
    - path: stacking_model.pkl
      hash: md5
      md5: f42fee23806728083fd7a4c23b12a01a
      size: 6640728
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 3210a27227a6043230203e68da92fa08
      size: 36954
    params:
      params.yaml:
        stacking:
          cv: 5
          base_models:
            gradient_boosting:
              n_estimators: 468
              learning_rate: 0.13066502758540927
              max_depth: 3
            catboost:
              depth: 8
              learning_rate: 0.27035817720878363
              iterations: 587
            logistic:
              C: 2.9007777401612693
            naive_bayes:
              alpha: 0.0030594497271337812
          final_estimator:
            C: 2.9007777401612693
        vectorizer:
          max_features: 1000
          ngram_range:
          - 1
          - 3
    outs:
    - path: experiment_info.json
      hash: md5
      md5: 7843fd16ce3af27106db1b0b6df06c17
      size: 167
